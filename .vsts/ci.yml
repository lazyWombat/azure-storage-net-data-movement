resources:
- repo: self
queue:
  name: Hosted VS2017
steps:
- task: gittools.gitversion.gitversion-task.GitVersion@3
  displayName: GitVersion  
  inputs:
    updateAssemblyInfoFilename: 'tools/AssemblyInfo/SharedAssemblyInfo.cs'

- task: DotNetCoreCLI@2
  displayName: dotnet restore
  inputs:
    command: restore
    projects: 'lib/DataMovement.csproj'
    vstsFeed: '2a3515a1-1d12-4537-bf9b-b48a277ec1a4'

- task: DotNetCoreCLI@2
  displayName: dotnet build
  inputs:
    projects: 'lib/DataMovement.csproj'